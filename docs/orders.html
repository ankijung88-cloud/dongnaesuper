<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë™ë„¤ìŠˆí¼ - ì£¼ë¬¸ë‚´ì—­</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <a href="index.html" class="logo">ğŸ¥¬ ë™ë„¤ìŠˆí¼</a>
    </header>

    <div class="container">
        <h2>ğŸ“¦ ì£¼ë¬¸ ë‚´ì—­</h2>
        <p style="font-size:0.8rem; color:#888;">ì´ ê¸°ê¸°ì— ì €ì¥ëœ ì£¼ë¬¸ ë‚´ì—­ì…ë‹ˆë‹¤.</p>
        <div id="order-list"></div>
    </div>

    <nav class="bottom-nav">
        <a href="store.html" class="nav-item">
            <span class="nav-icon">ğŸ </span>
            <span>í™ˆ</span>
        </a>
        <a href="cart.html" class="nav-item">
            <span class="nav-icon">ğŸ›’</span>
            <span>ì¥ë°”êµ¬ë‹ˆ</span>
        </a>
        <a href="orders.html" class="nav-item active">
            <span class="nav-icon">ğŸ“¦</span>
            <span>ì£¼ë¬¸ë‚´ì—­</span>
        </a>
    </nav>

    <script src="js/data.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const orders = Storage.getOrders();
            const container = document.getElementById('order-list');

            if (orders.length === 0) {
                container.innerHTML = '<p>ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }

            container.innerHTML = orders.map(order => `
                <div class="card">
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #888;">${order.date}</span>
                        <span class="badge" style="background: var(--primary); color: white; padding: 2px 8px; border-radius: 10px; font-size:0.8rem;">
                            ${order.status}
                        </span>
                    </div>
                    <h3>${order.mart}</h3>
                    ${order.address ? `<p style="font-size:0.9rem; color:#666; border-bottom:1px solid #eee; padding-bottom:5px;">ğŸ“ ë°°ì†¡ì§€: ${order.address}</p>` : ''}
                    <div style="margin-top: 10px; padding-top: 5px;">
                        ${order.items.map(item => `<div>- ${item.name} x ${item.qty}</div>`).join('')}
                    </div>
                    <p style="text-align: right; font-weight: bold; margin-top: 10px;">
                        í•©ê³„: ${App.formatCurrency(order.total)}
                    </p>
                </div>
            `).join('');
        });
    </script>
</body>

</html>